-- 04_insert_initial_data.sql
-- Скрипт для заполнения базы данных начальными данными (справочники, начальные остатки)

BEGIN;

-- 1. Заполнение основных справочников

INSERT INTO "КатегорияБлюда" ("Название") VALUES
('Роллы Классические'),
('Роллы Запеченные'),
('Роллы Фирменные'),
('Суши и Гунканы'),
('Наборы и Сеты'),
('Салаты'),
('Супы'),
('Горячие блюда'),
('Напитки'),
('Десерты'),
('Соусы и Добавки');

INSERT INTO "КатегорияПродукта" ("Название") VALUES
('Рыба свежая/охлажденная'),
('Рыба соленая/копченая'),
('Морепродукты (креветки, мидии, гребешки)'),
('Икра'),
('Рис и крупы'),
('Овощи свежие'),
('Фрукты свежие'),
('Зелень'),
('Сыры (сливочный, твердый)'),
('Молочные продукты (сливки, молоко)'),
('Соусы (соевый, унаги, спайси, терияки)'),
('Приправы и специи (васаби, имбирь)'),
('Нори и бумага для роллов'),
('Мука и панировка'),
('Масла растительные'),
('Бакалея (сахар, соль, уксус)'),
('Замороженные полуфабрикаты'),
('Напитки (ингредиенты для приготовления)'),
('Упаковка и расходники');

INSERT INTO "ЕдиницаИзмерения" ("Название", "Краткое_название") VALUES
('Килограмм', 'кг'),
('Грамм', 'г'),
('Литр', 'л'),
('Миллилитр', 'мл'),
('Штука', 'шт.'),
('Порция', 'порц.'),
('Упаковка', 'упак.'),
('Лист', 'лст.');

INSERT INTO "Должность" ("Название", "Ставка_в_час") VALUES
('Шеф-повар', 500.00),
('Повар-сушист', 380.00),
('Помощник повара', 280.00),
('Кассир-администратор', 350.00),
('Менеджер зала', 420.00),
('Курьер', 250.00),
('Уборщик(ца)', 200.00);

INSERT INTO "ПричинаСписания" ("Название") VALUES
('Порча продукта'),
('Истек срок годности'),
('Бой/повреждение при транспортировке'),
('Ошибка приготовления'),
('Проработка нового меню/блюда'),
('Представительские расходы/дегустация'),
('Внутреннее потребление (питание персонала)'),
('Недостача при инвентаризации');

INSERT INTO "Касса" ("Номер_кассы", "Расположение") VALUES
('K01-MAIN', 'Основной зал, центральная стойка'),
('K02-TAKEAWAY', 'Зона выдачи заказов на вынос');

INSERT INTO "Склад" ("Название", "Адрес") VALUES
('Основной продуктовый склад (Сухой)', 'Подсобное помещение №1'),
('Холодильный склад (-5/+5 C)', 'Холодильная камера №1'),
('Морозильный склад (-18C)', 'Морозильная камера №1'),
('Склад напитков и бара', 'Зона бара, помещение №2'),
('Склад хозтоваров и упаковки', 'Подсобное помещение №3');

-- 2. Заполнение зависимых справочников и основных сущностей

-- Блюда (ID категорий предполагаются по порядку вставки выше)
-- КатегорияБлюда: 1-Роллы Классические, 4-Суши и Гунканы, 9-Напитки, 11-Соусы и Добавки
INSERT INTO "Блюдо" ("ID_категории_блюда", "Название", "Цена_продажи") VALUES
(1, 'Ролл Филадельфия', 480.00),
(1, 'Ролл Калифорния с крабом', 420.00),
(1, 'Ролл Канада с угрем', 550.00),
(4, 'Суши Лосось', 130.00),
(4, 'Суши Угорь', 160.00),
(4, 'Гункан с икрой лосося', 180.00),
(2, 'Ролл Темпура с креветкой', 450.00), -- Категория 2 - Запеченные
(9, 'Морс клюквенный (0.5л)', 150.00),
(9, 'Чай зеленый Сенча (чайник)', 200.00),
(11, 'Соевый соус (порция)', 30.00),
(11, 'Имбирь маринованный (порция)', 30.00),
(11, 'Васаби (порция)', 30.00);

-- Продукты (ID категорий и единиц измерения предполагаются по порядку вставки выше)
-- КатегорииПродукта: 1-Рыба св/охл, 5-Рис, 6-Овощи, 9-Сыры, 11-Соусы, 12-Приправы, 13-Нори
-- ЕдиницыИзмерения: 1-кг, 2-г, 4-мл, 5-шт, 8-лст
INSERT INTO "Продукт" ("ID_категории_продукта", "ID_единицы_измерения", "Название", "Срок_годности_дни") VALUES
(1, 1, 'Лосось (филе охлажденное)', 3),
(5, 1, 'Рис для суши "Нишики"', 365),
(9, 1, 'Сыр сливочный "Cream Cheese" 70%', 45),
(13, 5, 'Листы нори "Gold" (100 шт/упак)', 730), -- Ед.изм. Штука, но срок на упаковку
(6, 1, 'Огурец свежий длинноплодный', 10),
(6, 1, 'Авокадо "Хасс" спелое', 7),
(1, 1, 'Угорь Унаги (филе замороженное)', 180),
(3, 1, 'Креветка тигровая с/м (16/20)', 180),
(4, 2, 'Икра лосося (кета/горбуша)', 5), -- Ед.изм. Грамм
(11, 4, 'Соус соевый "Yamasa" (концентрат)', 365),
(12, 2, 'Имбирь маринованный розовый (корень)', 90),
(12, 2, 'Васаби (порошок)', 365),
(18, 4, 'Сироп клюквенный (для морса)', 180);


-- Сотрудники (ID должностей предполагаются по порядку вставки выше)
-- Должности: 1-Шеф, 2-Повар-сушист, 4-Кассир-админ
INSERT INTO "Сотрудник" ("ID_должности", "Фамилия", "Имя", "Отчество", "Телефон", "Активен") VALUES
(1, 'Иванов', 'Сергей', 'Петрович', '+79011234567', TRUE),
(2, 'Петрова', 'Мария', 'Игоревна', '+79022345678', TRUE),
(2, 'Сидоров', 'Алексей', 'Иванович', '+79033456789', TRUE),
(4, 'Кузнецова', 'Ольга', 'Владимировна', '+79044567890', TRUE),
(6, 'Михайлов', 'Дмитрий', 'Андреевич', '+79055678901', TRUE); -- Курьер

-- 3. Начальные остатки на складах (пример)
-- Продукты ID: 1-Лосось, 2-Рис, 3-Сыр, 4-Нори
-- Склады ID: 1-Основной, 2-Холодильный
INSERT INTO "ОстатокПродуктаНаСкладе" ("ID_склада", "ID_продукта", "Количество") VALUES
(2, 1, 5.500),    -- Лосось на холодильном складе
(1, 2, 25.000),   -- Рис на основном
(2, 3, 10.250),   -- Сыр на холодильном
(1, 4, 2.000);    -- Нори (2 упаковки по 100 листов) на основном

-- 4. Состав блюд (рецептуры)
-- Блюда ID: 1-Филадельфия, 2-Калифорния, 4-Суши Лосось
-- Продукты ID: 1-Лосось, 2-Рис, 3-Сыр, 4-Нори, 5-Огурец, 6-Авокадо
-- Единицы измерения: г (0.001 кг), шт (для нори - 1 лист)
INSERT INTO "СоставБлюда" ("ID_блюда", "ID_продукта", "Количество") VALUES
-- Филадельфия (ID=1)
(1, 1, 0.080), -- Лосось 80г
(1, 2, 0.100), -- Рис 100г
(1, 3, 0.050), -- Сыр 50г
(1, 4, 1.000), -- Нори 1 лист (если ед.изм. продукта "Лист") или 0.0025 (если Нори в кг и 1 лист = 2.5г)
               -- У нас Нори в Штуках, так что 1.000 корректно, если "Количество" в ед.изм. продукта.
-- Калифорния (ID=2)
(2, 2, 0.100), -- Рис 100г
(2, 4, 1.000), -- Нори 1 лист
(2, 6, 0.030), -- Авокадо 30г
-- (Нужно добавить крабовое мясо или его имитацию в продукты и в состав)
-- Суши Лосось (ID=4)
(4, 1, 0.035), -- Лосось 35г
(4, 2, 0.020); -- Рис 20г

COMMIT;
